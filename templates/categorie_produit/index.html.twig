{% extends 'base.html.twig' %}

{% block title %}ğŸ“¦ CategorieProduit Index ğŸ‰{% endblock %}

{% block body %}
    <!-- Titre principal avec emoji -->
    <h1 class="text-center my-5" style="font-size: 2.5rem; color: #333;">
        ğŸ“¦ Liste des catÃ©gories de produits ğŸ·ï¸
    </h1>

    <!-- Image d'illustration pour rendre la page plus attrayante -->
    <div class="text-center mb-5">
        <img src="{{ asset('images/categories.png') }}" alt="CatÃ©gories de produits" class="img-fluid" style="max-width: 250px;">
    </div>

    <!-- Formulaire de filtrage par quantitÃ© -->
    <div class="text-center mb-4">
        <form method="get" action="{{ path('categorie_produit_index') }}" class="form-inline">
            <label for="quantiteMin" class="mr-2">Filtrer par quantitÃ© :</label>
            <input type="number" id="quantiteMin" name="quantiteMin" value="{{ app.request.query.get('quantiteMin') }}" class="form-control mr-2" placeholder="QuantitÃ© minimale">
            <button type="submit" class="btn btn-primary">Filtrer</button>
        </form>
    </div>

    <!-- Table des catÃ©gories -->
    <table class="table table-striped">
        <thead class="thead-dark">
            <tr>
                <th>ğŸ†” Id</th>
                <th>Nom de la catÃ©gorie ğŸ·ï¸</th>
                <th>Actions âš™ï¸</th>
            </tr>
        </thead>
        <tbody>
        {% for categorie_produit in categorie_produits %}
            <tr>
                <td>{{ categorie_produit.id }}</td>
                <td>{{ categorie_produit.nom }}</td>
                <td>
                    <!-- Lien show avec emoji -->
                    <a href="{{ path('categorie_produit_show', {'id': categorie_produit.id}) }}" class="btn btn-info btn-sm">
                        ğŸ‘€ Voir
                    </a>
                    <!-- Lien edit avec emoji -->
                    <a href="{{ path('categorie_produit_edit', {'id': categorie_produit.id}) }}" class="btn btn-warning btn-sm">
                        âœï¸ Modifier
                    </a>
                    <!-- Formulaire delete -->
                    <form method="post" action="{{ path('categorie_produit_delete', {'id': categorie_produit.id}) }}" style="display:inline;">
                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ categorie_produit.id) }}">
                        <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('ÃŠtes-vous sÃ»r de vouloir supprimer cette catÃ©gorie ?')">âŒ Supprimer</button>
                    </form>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="3" class="text-center text-danger">Aucune catÃ©gorie trouvÃ©e ğŸ˜</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <!-- Lien pour crÃ©er une nouvelle catÃ©gorie avec emoji -->
    <div class="text-center mt-4">
        <a href="{{ path('categorie_produit_new') }}" class="btn btn-success btn-lg">
            â• Ajouter une nouvelle catÃ©gorie
        </a>
    </div>
{% endblock %}
